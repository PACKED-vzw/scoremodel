{% extends 'admin/base.html' %}
{% block admin_content %}
    {% raw %}
    <div class="container-fluid" ng-app="scoremodel">
        <div class="row" ng-controller="AdminCtrl">
            <div class="col-xs-9">
                <div class="report panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Rapport</h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-xs-12">
                                <form novalidate class="form-horizontal">
                                    {% endraw %}
                                    <input id="report_id" type="hidden" value="{{ report_id }}"/>
                                    {% raw %}
                                    <div class="form-group">
                                        <label for="report.title" class="col-sm-1 control-label">Titel</label>
                                        <div class="col-sm-11">
                                            <input id="report.title" type="text" class="form-control"
                                                   ng-model="report.title"
                                                   ng-change="reset_submit_button('report_submit', report.id)"
                                                   required="required"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-3 col-sm-offset-1">
                                            <button type="submit" class="btn btn-default"
                                                    ng-click="submit_form('report')"
                                                    ng-show="!success.report_submit[report.id] && !errors.report_submit[report.id]">
                                                Opslaan
                                            </button>
                                            <button type="button" class="btn btn-success"
                                                    ng-show="success.report_submit[report.id]">
                                                Opgeslagen
                                            </button>
                                            <button type="button" class="btn btn-danger"
                                                    ng-show="errors.report_submit[report.id]">
                                                {{errors.report_submit[report.id]}}
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <!-- Sections -->
                                {% endraw %}
                                <div ng-include="'{{ url_for('static', filename='lib/templates/section.html') }}'"
                                     ng-repeat="section in report.sections track by section.id">
                                </div>
                                {% raw %}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <!-- Add new section -->
                                <button type="button" class="btn btn-info"
                                        ng-click="new_element_in_form('section')">Sectie toevoegen
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endraw %}
{% endblock %}